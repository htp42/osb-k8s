apiVersion: kustomize.config.k8s.io/v1beta1
kind: Kustomization

metadata:
  name: openstudybuilder

namespace: openstudybuilder

# Common labels applied to all resources
commonLabels:
  app.kubernetes.io/managed-by: kustomize
  app.kubernetes.io/part-of: openstudybuilder

resources:
  # Core infrastructure
  - namespace.yaml
  - configmap.yaml
  - secrets.yaml
  - pvc.yaml

  # Database
  - database.yaml

  # Backend services
  - api.yaml
  - consumerapi.yaml

  # Authentication
  - pocketbase.yaml

  # Frontend services
  - frontend.yaml
  - documentation.yaml
  - neodash.yaml

  # Networking
  - ingress.yaml

# Image customization - update these with your actual image references
images:
  - name: osb-api
    newName: osb-api
    newTag: latest
  - name: osb-frontend
    newName: osb-frontend
    newTag: latest
  - name: osb-documentation
    newName: osb-documentation
    newTag: latest
  - name: osb-neodash
    newName: osb-neodash
    newTag: latest
  - name: osb-pocketbase
    newName: osb-pocketbase
    newTag: latest
